# Contributor:
# Maintainer:
pkgname=openhasp-sdl
pkgver=0.1.0
pkgrel=0
pkgdesc="HomeAutomation Switchplate based on lvgl (SDL2 frontend)"
url="https://github.com/kuba2k2/openHASP"
arch="all"
license="MIT"
depends="sdl2"
makedepends="platformio-core py3-packaging build-base sdl2-dev"
checkdepends=""
install=""
subpackages=""
source="
	${pkgname}-${pkgver}.tar.gz::https://github.com/kuba2k2/openHASP/archive/d77428db54b129b6cafef65e1e6691909d03c640.tar.gz
	platformio_override.ini
	"
builddir="${srcdir}/openHASP-d77428db54b129b6cafef65e1e6691909d03c640"
options="!check"

build() {
	cp "${srcdir}/platformio_override.ini" "${builddir}/platformio_override.ini"
	pio run -e linux_sdl_64bits
}

package() {
	install -m755 -D "${builddir}/.pio/build/linux_sdl_64bits/program" \
		"${pkgdir}/usr/bin/openhasp-sdl"
}


sha512sums="
b159ffd49247b9b369b3c2a4c78aff7a3995115296a98503497d7afc88be1dd2181225581164fa8a344b3555a9c6d922f3e70ab8dad57c6084e5fa68623d4247  openhasp-sdl-0.1.0.tar.gz
cc2539aa1f03885ce05d591542807520f1d2f34773b4fb24b52fd868e65a697da55165070bce9306962a002819ae2a1b1a49c29545cf58b6f9d05a478feed13a  openhasp-sdl.initd
da922e3d9f8ce7fe1e127891b5d25de8936b61316565273a276861d7f572bd331163e15df13f15a32932c73ecc1a406708b5054cba2ad11b320bd7f591b8e7f8  platformio_override.ini
"
